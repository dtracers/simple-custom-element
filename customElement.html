<head>
<link id="customHtml" rel="import" href="customElementHtml.html">
<script src="customElement.js"></script>

<script>
(function(importDoc) {
       window.addEventListener('WebComponentsReady', function() {
           var link = importDoc.querySelector('#customHtml');
           var template = link.import.querySelector('#customHtml');
           var clone = document.importNode(template.content, true);

           var newElement = new CustomElement();

           /**
            * @Method
            * Called when the element is created, using document.create()(but does nothing else)
            */
           newElement.createdCallback = function() {
           };

           /**
            * Creates the shadow root and adds that into the system.
            */
           newElement.attachedCallback = function() {
               this.initializeElement(clone.cloneNode(true));
           };

           newElement.detachedCallback = function() {
           // Saving must happen before element is detached to save the height and width
           };

           document.registerElement('custom-element', {
               prototype : newElement
           });
       });
})(document._currentScript.ownerDocument);
</script>

</head>